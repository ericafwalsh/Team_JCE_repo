<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title> <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="assets/style.css">
    <script src="https://code.jquery.com/jquery-3.4.0.min.js"
        integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>

<header>
    <div>
        <div class="col s12">
            <p class="z-depth-4">Book Em'</p>
        </div>
    </div>
</header>

<body class="row wrapper">
    <div class="col s12">
        <div class="container">
            <div class="row">
                <div class="input-field col s4">
                    <input id="first_name" type="text" class="validate">
                    <label for="first_name">Author's First Name</label>
                </div>
                <div class="input-field col s4">
                    <input id="last_name" type="text" class="validate">
                    <label for="last_name">Author's Last Name</label>
                </div>
                <div class="input-field col s4">
                    <input id="user_name" type="text" class="validate">
                    <label for="user_name">New York Times Bestsellers</label>
                </div>
                <!-- <div class="col s12"> -->

                    <!-- <a class='dropdown-trigger btn' href='#' data-target='dropdown1'>Drop Me!</a> -->


                    <div class="input-field col s6">
                        <select>
                            <option value="">Choose your option</option>
                            <option value="1">Valentine's Day</option>
                            <option value="2">Mother's Day</option>
                            <option value="3">Father's Day</option>
                            <option value="4">Christmas Day</option>
                            <option value="5">Chanukah/Hanukkah</option>

                        </select>
                        <label>Materialize Select</label>
                    </div>

                    <!-- Dropdown Structure -->
                    <!-- <ul id='dropdown1' class='dropdown-content'>
                          <li><a href="#!">one</a></li>
                          <li><a href="#!">two</a></li>
                          <li class="divider" tabindex="-1"></li>
                          <li><a href="#!">three</a></li>
                          <li><a href="#!"><i class="material-icons">view_module</i>four</a></li>
                          <li><a href="#!"><i class="material-icons">cloud</i>five</a></li>
                        </ul> -->


                    <!-- the button -->
                    <!-- <ul id = "dropdown" class = "dropdown-content">
                        <li><a href = "#" class="badge" data-name="Valentine's Day">Valentine's Day</a></li>
                        <li><a href = "#" class="badge" data-name="Mother's Day">Mother's Day</a></li>
                        <li><a href = "#" class="badge" data-name="Father's Day">Father's Day</a></li>
                        <li><a href = "#" class="badge" data-name="Christmas Day">Christmas</a></li>
                        <li><a href = "#" class="badge" data-name="Chanukah/Hanukkah (first day)">Hanukkah</a></li>
                        <li class = "divider"></li>
                        <li><a href = "#" class="dropdown-item" data-name="other">Enter a birthday or anniversary</a></li>
                    </ul>
                    
                    <a class = "btn dropdown-button" href = "#" data-activates = "dropdown">When is this for?
                        <i class = "mdi-navigation-arrow-drop-down right"></i></a>    -->
                    <!-- Will need to add the form here -->


                    <div id="daysRemaining"></div>
                </div>
                <!-- <div class="input-field col s4">
                    <input id="date" id="other_form" type="text" class="validate">
                    <label for="date">Date:</label>
                </div> -->
                <div class="col s6"></div>
                <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                    <i class="material-icons right"></i>
                </button>

                <br>
                <div>
                    <div class="col s12">
                        <p class="z-depth-4">Book Selections</p>
                    </div>
                    <br>
                    <div class="col s12">
                        <img class="responsive-img" src="assets/principles.png">
                        <img class="responsive-img" src="assets/theTattooistOfAuschwitz.jpeg">
                        <img class="responsive-img" src="assets/whereTheCrawdadsSing.jpeg">
                        <img class="responsive-img" src="assets/theCityInTheMiddleOfTheNight.jpeg">
                        <img class="responsive-img" src="assets/atTheMountainsEdge.jpeg">
                    </div>
                </div>

                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
                <script type="text/javascript">
                    $(document).ready(function () {
                        $("#other_form").hide();
                        // $('.dropdown-trigger').dropdown();
                        $('select').formSelect();
                        // document.addEventListener('DOMContentLoaded', function () {
                        //     var elems = document.querySelectorAll('select');
                        //     var instances = M.FormSelect.init(elems, options);

                        $(".dropdown-item").on("click", calendar);
                        $("#other").on("click", showForm);
                        function showForm() {
                            $("#other_form").show();
                        }
                        function calendar() {
                            var holidayName = $(this).attr("data-name");
                            var apiKey = "c65ffe3f62969801df573185b16ae4961aa65370";
                            var queryURL = "https://calendarific.com/api/v2/holidays?country=US&year=2019&api_key=" + apiKey;
                            $.ajax({
                                url: queryURL,
                                method: "GET"
                            })

                                .then(function (response) {
                                    var results = response.response.holidays;
                                    for (var i = 0; i < results.length; i++) {
                                        if (results[i].name === holidayName) {
                                            var date = results[i].date.iso;
                                            var today = new Date();
                                            var occasion_date = new Date(date);
                                            var days_until = Math.round((occasion_date - today) / (1000 * 60 * 60 * 24));
                                            if (days_until < 0) {
                                                days_until = days_until + 365;
                                            }
                                            alert(days_until);
                                        }
                                    };
                                });
                        };
                    });
                </script>
</body>

</html>